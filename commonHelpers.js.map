{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay.js"],"sourcesContent":["\n\nimport iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst list = document.querySelector('.todo-list');\nconst input = document.querySelector('.input-text');\n\nconst form = document.querySelector('.main-form');\n\nconst btn = document.querySelector('.btn');\nconst load = document.querySelector('.loading')\n\n\nconst KEY = '42475254-bcb32dbc18887673c1cce19dd';\nconst BASE_URI = 'https://pixabay.com/api/';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst SAFESEARCH = 'true';\n\n\n\n\nload.style.display = 'none'\nfunction hadler(event) {\n  \n  event.preventDefault();\n  load.style.display = 'inline-block'\n \n  const QUERY = input.value.trim();\n  const LINK = `${BASE_URI}?key=${KEY}&q=${QUERY}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH} `;\n  fetch(LINK)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      }\n      \n      return res.json();\n    })\n    .then(data => {\n      console.log(data);\n      const images = data.hits;\n      if (images.length === 0) {\n        return hadlerError();\n      } else {\n        list.innerHTML = images\n          .map(\n            ({\n              webformatURL,\n              likes,\n              views,\n              comments,\n              downloads,\n              largeImageURL,\n              tags,\n            }) => {\n              return `<li class=\"photo-main-list\">\n              \n   <a class=\"galery-link\"  href=\"${largeImageURL}\">\n   <img class=\"photo\" width=\"360\" height=\"200\" src=\"${webformatURL}\" alt=\"${tags}\" />\n   </a>\n  \n      <ul class='list-menu'>\n        <li class='description'>\n          <h3 class='title'>Likes</h3>\n          <p class='datas'>${likes}</p>\n        </li>\n        <li class='description'>\n          <h3 class='title'>Views</h3>\n          <p class='datas'>${views}</p>\n        </li>\n        <li class='description'>\n          <h3 class='title'>Comments</h3>\n          <p class='datas'>${comments}</p>\n        </li>\n        <li class='description'>\n          <h3 class='title'>Downloads</h3>\n          <p class='datas'>${downloads}</p>\n        </li>\n      </ul>\n    </li>\n`;\n            }\n          )\n          .join('');\n      }\n    })\n    .catch(error => console.log(error))\n    .finally(()=>{\n      setTimeout(()=>{\n        load.style.display = 'none'\n      },600)\n      \n    })\n    \n\n\n  input.value = '';\n  lightbox.refresh()\n\n \n  \n}\n\nform.addEventListener('submit', hadler);\n\nfunction hadlerError() {\n  iziToast.error({\n    maxWidth: '432px',\n    messageSize: '16px',\n    titleColor: ' #fafafb',\n    messageColor: '#fff',\n    message: `Sorry, there are no images matching your search query. Please try again!`,\n    closeOnEscape: true,\n    position: 'topRight',\n    backgroundColor: '#ed6f7c',\n  });\n}\n\nconst lightbox = new SimpleLightbox('.todo-list a.galery-link', {\n  \n    captionDelay: 250,\n \n  });\n\n\n\n\n//   <a class=\"galery-link\" href=\"${largeImageURL}\">\n//   <img class='photo' width=\"360\" height=\"200\" src=\"${webformatURL}\" alt=\"\" />\n//   </a>\n\n//  <div class=\"gallery\">\n// <a href=\"images/image1.jpg\"><img src=\"images/thumbs/thumb1.jpg\" alt=\"\" title=\"\"/></a>\n// <a href=\"images/image2.jpg\"><img src=\"images/thumbs/thumb2.jpg\" alt=\"\" title=\"Beautiful Image\"/></a>\n// </div>\n"],"names":["list","input","form","load","KEY","BASE_URI","IMAGE_TYPE","ORIENTATION","SAFESEARCH","hadler","event","QUERY","LINK","res","data","images","hadlerError","webformatURL","likes","views","comments","downloads","largeImageURL","tags","error","lightbox","iziToast","SimpleLightbox"],"mappings":"6vBAUA,MAAMA,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAQ,SAAS,cAAc,aAAa,EAE5CC,EAAO,SAAS,cAAc,YAAY,EAEpC,SAAS,cAAc,MAAM,EACzC,MAAMC,EAAO,SAAS,cAAc,UAAU,EAGxCC,EAAM,qCACNC,EAAW,2BACXC,EAAa,QACbC,EAAc,aACdC,EAAa,OAKnBL,EAAK,MAAM,QAAU,OACrB,SAASM,EAAOC,EAAO,CAErBA,EAAM,eAAc,EACpBP,EAAK,MAAM,QAAU,eAErB,MAAMQ,EAAQV,EAAM,MAAM,KAAI,EACxBW,EAAO,GAAGP,CAAQ,QAAQD,CAAG,MAAMO,CAAK,eAAeL,CAAU,gBAAgBC,CAAW,eAAeC,CAAU,IAC3H,MAAMI,CAAI,EACP,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG5B,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EAChB,MAAMC,EAASD,EAAK,KACpB,GAAIC,EAAO,SAAW,EACpB,OAAOC,EAAW,EAElBhB,EAAK,UAAYe,EACd,IACC,CAAC,CACC,aAAAE,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,cAAAC,EACA,KAAAC,CACd,IACqB;AAAA;AAAA,mCAEcD,CAAa;AAAA,sDACML,CAAY,UAAUM,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAMnDL,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,CAM3B,EACA,KAAK,EAAE,CAElB,CAAK,EACA,MAAMG,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAI,CACX,WAAW,IAAI,CACbrB,EAAK,MAAM,QAAU,MACtB,EAAC,GAAG,CAEX,CAAK,EAIHF,EAAM,MAAQ,GACdwB,EAAS,QAAS,CAIpB,CAEAvB,EAAK,iBAAiB,SAAUO,CAAM,EAEtC,SAASO,GAAc,CACrBU,EAAS,MAAM,CACb,SAAU,QACV,YAAa,OACb,WAAY,WACZ,aAAc,OACd,QAAS,2EACT,cAAe,GACf,SAAU,WACV,gBAAiB,SACrB,CAAG,CACH,CAEA,MAAMD,EAAW,IAAIE,EAAe,2BAA4B,CAE5D,aAAc,GAElB,CAAG"}